<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.sunsky.simple.dao.PersonDao">
	
	<!-- 
		查询 resultType:查询出来的记录要转换成相应的对象的类型（泛型）
	 -->
	 <select id="queryAll" resultType="com.sunsky.simple.entity.Person">
	 	select * from person 
	 </select>
	 
	 <!-- 依据id查询
	 	parameterType:如果参数值是一个整数，标准用法是java.lang.Integer 可以简写为int
	  -->
	 <select id="queryById" parameterType="int" resultType="com.sunsky.simple.entity.Person">
	 	select * from person where id = #{id1}
	 </select>


	<!--也可以用 查询子增主键-->
	<!--<insert id="insertPerson" useGeneratedKeys="true" keyProperty="id" parameterType="com.sunsky.simple.entity.Person" >-->
	<insert id="insertPerson" parameterType="com.sunsky.simple.entity.Person" >
		<selectKey keyProperty = "id" order = "AFTER" resultType="java.lang.Integer">
			select LAST_INSERT_ID()
		</selectKey>
		insert into person (name,age,sex) values (#{name},#{age},#{sex})
	</insert>

</mapper>